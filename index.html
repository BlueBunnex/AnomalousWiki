<!DOCTYPE html>
<html>
<head>
    <title>DogmomAI</title>
    <meta charset="UTF-8">

    <script src="db.js"></script>

    <!-- Discord embedding (https://stackoverflow.com/questions/59335731/how-to-create-own-embed-site-for-discord) -->
    <meta content="DogmomAI" property="og:title"/>
    <meta content="This website is a pet project. May contain suggestive content, view at your own discretion." property="og:description"/>
    <meta content="https://dogmomai.top" property="og:url"/>
    
    <style>
        :root {
            --accent: #f45;
        }
        
        body {
            font-family: serif;
            font-size: 0.875rem;
            
            margin: 0;
            color: #111;
        }

        a { color: var(--accent); }
        a:hover { text-decoration: none; }
        a:active { mix-blend-mode: difference; }

        h1, h2 { margin: 4px 0; font-family: sans-serif; }

        nav { background: var(--accent); color: white; margin-block-end: 1em; }
        nav a { color: white; }
        
    </style>
    <script>
        const articles = {
            "Cool%20Article": {
                "author": "Author",
                "date": "mm/dd/yyyy",
                "image": "https://cats.com/wp-content/uploads/2022/03/gray-cats-compressed.jpg",
                "content": `
                    <p>I really like cats! And dogs! Cuddling up with your favourite kitty and watching a nice video is a sure-fire way to have a good time!</p>
                `
            }
        };
    </script>
</head>
<body>

    <div style="margin: auto; max-width: 550px;">

        <h1>DogmomAI</h1>
        <nav>
            <a href="https://dogmomai.top">HOME</a>
            |
            <a href="https://dogmomai.top/?title=Cool%20Article">ARTICLES</a>
        </nav>

        <script>
            const urlParams = new URLSearchParams(window.location.search);
            const title = urlParams.get('title'); // ?title=something%20else

            const articleTemplate = `
                <h2>$title$</h2>
                <strong style="color: grey;">$author$ Â· $date$</strong> <!-- Topic? -->
                <img style="width: 100%;" src="$image$">
                $content$
                <!--<a href="" style="text-align: center; display: block;">Return to top</a>-->
            `;
    
            if (title == null) {
                // load home page
                document.write("home");
            } else {
                // try to load article, show error if does not exist
                document.write(
                    articleTemplate
                    .replace("$title$", title)
                    .replace("$author$", articles[title]["author"])
                    .replace("$date$", articles[title]["date"])
                    .replace("$image$", articles[title]["image"])
                    .replace("$content$", articles[title]["content"])
                );
            }
        </script>
        
    </div>
    
</body>
</html>
