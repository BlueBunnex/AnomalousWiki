<!DOCTYPE html>
<html>
<head>
    <title>DogmomAI</title>
    <meta charset="UTF-8">

    <script src="db.js"></script>

    <!-- Discord embedding (https://stackoverflow.com/questions/59335731/how-to-create-own-embed-site-for-discord) -->
    <meta content="DogmomAI" property="og:title"/>
    <meta content="This website is a pet project. May contain suggestive content, view at your own discretion." property="og:description"/>
    <meta content="https://dogmomai.top" property="og:url"/>
    
    <style>
        :root {
            --accent: #f45;
        }
        
        body {
            font-family: serif;
            font-size: 0.875rem;
            
            margin: 0;
            color: #111;
        }

        a { color: var(--accent); }
        a:hover { text-decoration: none; }
        a:active { mix-blend-mode: difference; }

        h1, h2 { margin: 4px 0; font-family: sans-serif; }

        nav { background: var(--accent); color: white; margin-block-end: 1em; }
        nav a { color: white; }

        p.quote {
            background: #FEE;
            padding: 10px;
            border-left: 4px solid var(--accent);
        }
        
    </style>
    <script>
        const articles = [
            {
                "title": "Article Title",
                "author": "Author",
                "date": "mm/dd/yyyy",
                "image": "https://cats.com/wp-content/uploads/2022/03/gray-cats-compressed.jpg",
                "content": `
                    <p>I really like cats! And dogs! Cuddling up with your favourite kitty and watching a nice video is a sure-fire way to have a good time!</p>
                    <p class="quote">Pro tip: Sleeping with cats in the room is known to increase your happiness by 21%.</p>
                `
            }
        ];
    </script>
</head>
<body>

    <div style="margin: auto; max-width: 550px;">

        <h1>DogmomAI</h1>
        <nav>
            <a href="https://dogmomai.top">HOME</a>
        </nav>

        <script>
            const urlParams = new URLSearchParams(window.location.search);
            const id = parseInt(urlParams.get('id')); // ?id=1337

            const articleTemplate = `
                <img style="width: 100%;" src="$image$">
                <h2>$title$</h2>
                <strong style="color: grey;">$author$ Â· $date$</strong>
                $content$
            `;

            const miniTemplate = `
                <a href='https://dogmomai.top/?id=$id$'>$title$</a><br>
                <span style="width: 400px; text-overflow: ellipsis;">$preview$</span>
            `;
    
            if (isNaN(id)) {
                // load home page
                for (let i=articles.length-1; i>=0; i--) {
                    document.write(
                        miniTemplate
                        .replace("$id$", i)
                        .replace("$title$", articles[i]["title"])
                        .replace("$preview$", articles[i]["content"])
                    );
                }
            } else {
                // try to load article, show error if does not exist
                if (articles[id] == null) {
                    document.write("dne");
                } else {
                    document.write(
                        articleTemplate
                        .replace("$title$", articles[id]["title"])
                        .replace("$author$", articles[id]["author"])
                        .replace("$date$", articles[id]["date"])
                        .replace("$image$", articles[id]["image"])
                        .replace("$content$", articles[id]["content"])
                    );
                }
            }
        </script>
        
    </div>
    
</body>
</html>
